rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Categories collection
    match /categories/{categoryId} {
      // Allow public read access for menu display
      allow read: if true;
      
      // Allow write access (admin dashboard is protected by unique URL)
      // Note: In production, consider adding additional security measures
      allow create, update, delete: if true;
      
      // Items subcollection within categories
      match /items/{itemId} {
        // Allow public read access
        allow read: if true;
        
        // Allow write access (admin dashboard is protected by unique URL)
        allow create, update, delete: if true;
      }
    }
    
    // Ratings collection
    match /ratings/{ratingId} {
      // Allow public read access
      allow read: if true;
      
      // Allow public create access for users to submit ratings
      allow create: if true;
      
      // Allow delete access (admin dashboard is protected by unique URL)
      // Note: In production, consider adding additional security measures
      allow delete: if true;
    }
  }
}
